!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fdc8d102-7341-4fe5-a276-91ed2c150f44",e._sentryDebugIdIdentifier="sentry-dbid-fdc8d102-7341-4fe5-a276-91ed2c150f44")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41587],{40009:(e,t,a)=>{a.d(t,{H:()=>i});var i=function(e){return e[e.TEST_ASC=1]="TEST_ASC",e[e.TEST_DESC=-1]="TEST_DESC",e}({})},84539:(e,t,a)=>{a.d(t,{EY:()=>d,Wb:()=>o,tP:()=>n,vP:()=>r,vs:()=>l});var i=a(40009),s=a(71507);let l=10,o={[s.l.TEST_AND_ASSESSMENT]:"Test",[s.l.PRACTICE]:"Practice",[s.l.HOMEWORK]:"Homework"},d={[s.c.SOURCES]:"Source",[s.c.TESTS]:"Tests",[s.c.SUBTOPIC]:"Sub-topic",[s.c.DIFFICULTY_LEVEL]:"Difficulty level"},n=[{label:d[s.c.SOURCES],value:s.c.SOURCES,showOnPanel:!0},{label:d[s.c.SUBTOPIC],value:s.c.SUBTOPIC,showOnPanel:!0},{label:d[s.c.DIFFICULTY_LEVEL],value:s.c.DIFFICULTY_LEVEL,showOnPanel:!0},{label:d[s.c.TESTS],value:s.c.TESTS,showOnPanel:!1}],r=[{label:"Date Added: Last (default)",value:i.H.TEST_DESC},{label:"Date Added: First",value:i.H.TEST_ASC}]},71507:(e,t,a)=>{a.d(t,{c:()=>s,l:()=>i});var i=function(e){return e.TEST_AND_ASSESSMENT="TEST_AND_ASSESSMENT",e.PRACTICE="PRACTICE",e.HOMEWORK="HOMEWORK",e}({}),s=function(e){return e.SOURCES="sources",e.SUBTOPIC="subtopic",e.DIFFICULTY_LEVEL="difficulty_level",e.TESTS="tests",e}({})},46423:(e,t,a)=>{a.d(t,{L_:()=>T,OM:()=>c,VZ:()=>o,_s:()=>S,e:()=>g,iY:()=>u,it:()=>E,su:()=>r});var i=a(68808),s=a(71507),l=a(84539);let o=e=>({filters:{subject_taxonomy_id:(null==e?void 0:e.taxonomy_id)||"",topic_node_id:e.topic_id||"",subject_node_id:e.subject_id||""}}),d=(e,t,a)=>e===s.c.TESTS?t[e].filter(t=>a[e][t].test_source===s.l.TEST_AND_ASSESSMENT):t[e].length===Object.keys(a[e]).length?[]:[...t[e]],n=e=>{switch(e){case 0:default:return[i.M.INCORRECT];case 1:return[i.M.SKIPPED];case 2:return[i.M.RESOLVED]}},r=(e,t)=>({filters:{subject_taxonomy_id:e.taxonomy_id||"",topic_node_id:e.topic_id||"",subject_node_id:e.subject_id||"",sources:t.appliedFilters[s.c.SOURCES],test_ids:d(s.c.TESTS,t.appliedFilters,t.summaryIndexedData),difficulty_levels:d(s.c.DIFFICULTY_LEVEL,t.appliedFilters,t.summaryIndexedData),subtopic_ids:d(s.c.SUBTOPIC,t.appliedFilters,t.summaryIndexedData),status:n(t.activeTab)},pagination:{page_no:t.nextPaginationPage,page_size:l.vs},sort_by:{direction:t.sortBy}}),u=(e,t,a)=>{let i=d(s.c.SUBTOPIC,e,a).map(e=>({taxonomy_id:a[s.c.SUBTOPIC][e].taxonomy_id,subtopic_id:e}));return{sources:e[s.c.SOURCES],tests:d(s.c.TESTS,e,a),difficulty_levels:d(s.c.DIFFICULTY_LEVEL,e,a),subtopics:i,statuses:n(t)}},c=e=>{let t={[s.l.TEST_AND_ASSESSMENT]:0,[s.l.HOMEWORK]:1,[s.l.PRACTICE]:2};return null==e?void 0:e.map(e=>({...e,sources:[...(null==e?void 0:e.sources)||[]].sort((e,a)=>((null==t?void 0:t[e.type])||1/0)-((null==t?void 0:t[a.type])||1/0))}))},S=e=>{let t={difficulty_level:{},subtopic:{},sources:{},tests:{}},a={};e.forEach(e=>{a[e.question_id]=e.status,t.difficulty_level[e.difficulty_level]||(t.difficulty_level[e.difficulty_level]={label:e.difficulty_level,date:"",id:e.difficulty_level,questionsTagged:new Set}),t.difficulty_level[e.difficulty_level].questionsTagged.add(e.question_id);let i=e.subtopic_taxonomy;t.subtopic[i.node_id]||(t.subtopic[i.node_id]={label:i.node_name,date:"",id:i.node_id,questionsTagged:new Set,taxonomy_id:i.taxonomy_id}),t.subtopic[i.node_id].questionsTagged.add(e.question_id),e.sources.forEach(a=>{var i,s,o;t.sources[a.type]||(t.sources[a.type]={label:l.Wb[a.type],date:"",id:a.type,questionsTagged:new Set}),t.tests[a.id]||(t.tests[a.id]={label:a.name,date:a.date,id:a.id,questionsTagged:new Set,test_source:a.type}),null==t||null===(i=t.sources[a.type])||void 0===i||i.questionsTagged.add(e.question_id),null==t||null===(o=t.tests)||void 0===o||null===(s=o[a.id])||void 0===s||s.questionsTagged.add(e.question_id)})});let i={difficulty_level:{},subtopic:{},sources:{},tests:{}};return Object.keys(t).forEach(e=>{Object.values(t[e]).forEach(t=>{i[e][t.id]||(i[e][t.id]={label:t.label,date:t.date,id:t.id,questionsTagged:[],taxonomy_id:t.taxonomy_id,test_source:t.test_source}),i[e][t.id].questionsTagged=Array.from(t.questionsTagged)})}),{indexedData:i,questionToTabMapping:a}},E=(e,t,a)=>{if(!e||0===Object.keys(e).length)return new Set;if(Object.values(t).every(e=>0===e.length)){let t=new Set;return Object.values(e).forEach(e=>{Object.values(e).forEach(e=>{e.questionsTagged.forEach(e=>t.add(e))})}),t}let i=_(e,t,a),l=new Set;return Object.keys(t).forEach(i=>{let o=t[i];if(!a||i!==a){if((a===s.c.TESTS||a===s.c.SOURCES)&&(i===s.c.TESTS||i===s.c.SOURCES)||a!==s.c.TESTS&&a!==s.c.SOURCES&&(i===s.c.TESTS||i===s.c.SOURCES))return;if(e[i]){let t=new Set;0===o.length?Object.values(e[i]).forEach(e=>{e.questionsTagged.forEach(e=>t.add(e))}):o.forEach(a=>{e[i][a]&&e[i][a].questionsTagged.forEach(e=>t.add(e))}),l=0===l.size?t:new Set(Array.from(l).filter(e=>t.has(e)))}}}),i.size>0&&(l=0===l.size?i:new Set(Array.from(l).filter(e=>i.has(e)))),l},T=(e,t,a)=>t[a]?Object.entries(t[a]).map(i=>{let[l,o]=i;if(a===s.c.TESTS&&o.test_source!==s.l.TEST_AND_ASSESSMENT)return null;let d=0;return t[a][l].questionsTagged.forEach(t=>{e.has(t)&&d++}),{optionLabel:o.label,optionValue:o.id,questionCount:d,date:o.date}}).filter(e=>null!==e):[],g=(e,t)=>{let a=0,i=0,s=0;return e.forEach(e=>{switch(t[e]){case"INCORRECT":a++;break;case"SKIPPED":i++;break;case"RESOLVED":s++}}),[{label:"Incorrect (".concat(a,")"),value:"Incorrect",key:"0"},{label:"Unattempted (".concat(i,")"),value:"Unattempted",key:"1"},{label:"Resolved (".concat(s,")"),value:"Resolved",key:"2"}]},_=(e,t,a)=>{let i=new Set;return a===s.c.TESTS||a===s.c.SOURCES||(t[s.c.SOURCES].includes(s.l.TEST_AND_ASSESSMENT)||t[s.c.TESTS].forEach(t=>{e[s.c.TESTS][t]&&e[s.c.TESTS][t].questionsTagged.forEach(e=>i.add(e))}),t[s.c.SOURCES].forEach(a=>{e[s.c.SOURCES][a]&&(a===s.l.TEST_AND_ASSESSMENT?t[s.c.TESTS].forEach(t=>{e[s.c.TESTS][t]&&e[s.c.TESTS][t].test_source===s.l.TEST_AND_ASSESSMENT&&e[s.c.TESTS][t].questionsTagged.forEach(e=>i.add(e))}):e[s.c.SOURCES][a].questionsTagged.forEach(e=>i.add(e)))})),i}},31155:(e,t,a)=>{a.d(t,{br:()=>l,m1:()=>o});var i=a(40009),s=a(71507);let l={[s.c.SOURCES]:[],[s.c.TESTS]:[],[s.c.SUBTOPIC]:[],[s.c.DIFFICULTY_LEVEL]:[]},o={data:null,loading:!1,activeTab:0,currentQuestionIndex:null,appliedFilters:l,summaryIndexedData:{difficulty_level:{},subtopic:{},sources:{},tests:{}},questionToTabMapping:{},sortBy:i.H.TEST_DESC,isSolutionExpanded:!1,totalRecords:0,nextPaginationPage:1,loadingState:{isInitialQuestionPageLoading:!1,isNextPaginatedQuestionPageLoading:!1,isSummaryLoading:!1},errorState:{summaryError:null,questionListApiError:null},toastMessage:"",tabList:[],shouldPersistScroll:!1}},65335:(e,t,a)=>{a.d(t,{Ay:()=>b,B9:()=>T,ES:()=>u,O6:()=>g,R0:()=>y,V2:()=>_,W2:()=>S,YF:()=>r,ku:()=>n,rB:()=>v,wA:()=>p,zk:()=>c,zt:()=>E});var i=a(26071),s=a(46423),l=a(31155),o=a(27141);let d=(0,i.Z0)({name:"questionReviseSlice",initialState:l.m1,reducers:{setTabList(e,t){e.tabList=t.payload},setSortBy(e,t){e.sortBy=t.payload},setAppliedFilters(e,t){e.appliedFilters=t.payload},setActiveTab(e,t){e.activeTab=t.payload},setCurrentQuestionIndex(e,t){e.currentQuestionIndex=t.payload},setIsSolutionExpanded(e,t){e.isSolutionExpanded=t.payload},setTotalRecords(e,t){e.totalRecords=t.payload},setNextPaginationPage(e,t){e.nextPaginationPage=t.payload},updateData(e,t){e.data=t.payload},setLoadingState(e,t){let a={...e.loadingState,...t.payload};e.loadingState=a},setToastMessage(e,t){e.toastMessage=t.payload},clearQuestionReviseApiData:e=>({...l.m1,appliedFilters:e.appliedFilters,activeTab:e.activeTab,sortBy:e.sortBy}),setShouldPersistScroll(e,t){e.shouldPersistScroll=t.payload}},extraReducers:e=>{e.addCase(o.PL.pending,e=>{e.loadingState.isSummaryLoading=!0,e.errorState.summaryError=null}).addCase(o.PL.fulfilled,(e,t)=>{var a;e.loadingState.isSummaryLoading=!1;let{indexedData:i,questionToTabMapping:l}=(0,s._s)((null===(a=t.payload)||void 0===a?void 0:a.questions)||[]);e.summaryIndexedData=i,e.questionToTabMapping=l;let o=(0,s.it)(i,e.appliedFilters);e.tabList=(0,s.e)(o,l),e.loadingState.isSummaryLoading=!1}).addCase(o.PL.rejected,(e,t)=>{e.loadingState.isSummaryLoading=!1,e.errorState.summaryError=t.payload,e.toastMessage="Something went wrong"}).addCase(o.Iw.pending,e=>{e.errorState.questionListApiError=null,1===e.nextPaginationPage?e.loadingState.isInitialQuestionPageLoading=!0:e.loadingState.isNextPaginatedQuestionPageLoading=!0}).addCase(o.Iw.fulfilled,(e,t)=>{e.data=t.payload,e.loadingState.isInitialQuestionPageLoading=!1,e.loadingState.isNextPaginatedQuestionPageLoading=!1}).addCase(o.Iw.rejected,(e,t)=>{e.errorState.questionListApiError=t.payload,e.loadingState.isInitialQuestionPageLoading=!1,e.loadingState.isNextPaginatedQuestionPageLoading=!1,e.toastMessage="Something went wrong"})}}),{setSortBy:n,setActiveTab:r,clearQuestionReviseApiData:u,setAppliedFilters:c,setCurrentQuestionIndex:S,setIsSolutionExpanded:E,setTotalRecords:T,updateData:g,setNextPaginationPage:_,setLoadingState:f,setToastMessage:y,setTabList:p,setShouldPersistScroll:v}=d.actions,b=d},27141:(e,t,a)=>{a.d(t,{Du:()=>c,Iw:()=>u,PL:()=>r});var i=a(8189),s=a(26071),l=a(13205),o=a(46423),d=a(65335),n=a(33202);let r=(0,s.zD)("fetchSummaryData",async(e,t)=>{let{rejectWithValue:a}=t;try{var s;let t=null,o=await (null===(s=(0,i.w5)())||void 0===s?void 0:s.post("".concat(n.Q.QUESTION_REVISE_SUMMARY),e.payload));if(o instanceof l.pe||o.status>299)throw Error("Failed to fetch summary data");if((t=null==o?void 0:o.data)&&t.questions&&t.questions.length)return t;return a(null)}catch(e){return a(e)}}),u=(0,s.zD)("fetchPaginatedData",async(e,t)=>{let{mandatoryParamsForPayload:a}=e,{getState:s,rejectWithValue:r,dispatch:u}=t,c=s().questionReviseSlice,{nextPaginationPage:S,data:E}=c;1===S&&u((0,d.O6)([]));let T=(0,o.su)(a,c);try{var g;let e=null,t=await (0,i.w5)().post("".concat(n.Q.QUESTION_REVISE_PAGINATION),T);if(t instanceof l.pe||t.status>299)return r(null);e=null==t?void 0:t.data,u((0,d.B9)(null==e?void 0:null===(g=e.pagination)||void 0===g?void 0:g.total_records)),u((0,d.V2)(S+1));let a=1===S?null==e?void 0:e.questions:[...E||[],...null==e?void 0:e.questions];return u((0,d.O6)(a)),(0,o.OM)(a)}catch(e){return r(e)}}),c=(0,s.zD)("fetchQuestionReviseData",async(e,t)=>{let{mandatoryParamsForPayload:a}=e,{rejectWithValue:i,dispatch:s}=t;try{let e=(0,o.VZ)(a);await s(r({payload:e})).unwrap(),await s(u({mandatoryParamsForPayload:a})).unwrap()}catch(e){return i(e)}})}}]);
//# sourceMappingURL=41587-9c821cbcabd5ad53.js.map